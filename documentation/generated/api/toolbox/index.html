<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="SAGE-X Development Documentation"><link href=https://3rdn4Li.github.io/SAGE-X/generated/api/toolbox/ rel=canonical><link href=../memory/ rel=prev><link href=../cli/ rel=next><link rel=icon href=../../../assets/logos/opensage-favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Toolbox - OpenSage</title><link rel=stylesheet href=../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../assets/stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#toolbox class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=OpenSage class="md-header__button md-logo" aria-label=OpenSage data-md-component=logo> <img src=../../../assets/logos/opensage-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OpenSage </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Toolbox </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/OpenSage-ADK/OpenSage title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> OpenSage-ADK/OpenSage </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../Introduction/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../Architecture/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../../Benchmarking/ class=md-tabs__link> Benchmarking </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../API-Reference/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../../CLI-Reference/ class=md-tabs__link> CLI Reference </a> </li> <li class=md-tabs__item> <a href=../../../Community/ class=md-tabs__link> Community </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=OpenSage class="md-nav__button md-logo" aria-label=OpenSage data-md-component=logo> <img src=../../../assets/logos/opensage-logo.svg alt=logo> </a> OpenSage </label> <div class=md-nav__source> <a href=https://github.com/OpenSage-ADK/OpenSage title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> OpenSage-ADK/OpenSage </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../Project-Structure/ class=md-nav__link> <span class=md-ellipsis> Project Structure </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Entry Points </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Entry Points </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Entry-Points/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../OpenSage-Web-Entry/ class=md-nav__link> <span class=md-ellipsis> OpenSage Web Entry </span> </a> </li> <li class=md-nav__item> <a href=../../../Evaluation-Entry/ class=md-nav__link> <span class=md-ellipsis> Evaluation Entry </span> </a> </li> <li class=md-nav__item> <a href=../../../RL-Integration/ class=md-nav__link> <span class=md-ellipsis> RL Integration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Core-Concepts/ class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> Practices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Best-Practices/ class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../../Common-Patterns/ class=md-nav__link> <span class=md-ellipsis> Common Patterns </span> </a> </li> <li class=md-nav__item> <a href=../../../Testing-Debugging/ class=md-nav__link> <span class=md-ellipsis> Testing & Debugging </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Developer Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../Core-Components/ class=md-nav__link> <span class=md-ellipsis> Core Components </span> </a> </li> <li class=md-nav__item> <a href=../../../Development-Guides/ class=md-nav__link> <span class=md-ellipsis> Development Guides </span> </a> </li> <li class=md-nav__item> <a href=../../../Adding-Tools/ class=md-nav__link> <span class=md-ellipsis> Adding Tools </span> </a> </li> <li class=md-nav__item> <a href=../../../Sandboxes/ class=md-nav__link> <span class=md-ellipsis> Sandboxes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Benchmarking </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Benchmarking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Benchmarking/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Adding-Evaluations/ class=md-nav__link> <span class=md-ellipsis> Adding Evaluations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../API-Reference/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../session/ class=md-nav__link> <span class=md-ellipsis> Session </span> </a> </li> <li class=md-nav__item> <a href=../sandbox/ class=md-nav__link> <span class=md-ellipsis> Sandbox </span> </a> </li> <li class=md-nav__item> <a href=../memory/ class=md-nav__link> <span class=md-ellipsis> Memory </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Toolbox </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Toolbox </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#aigise.toolbox.decorators class=md-nav__link> <span class=md-ellipsis> decorators </span> </a> <nav class=md-nav aria-label=decorators> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.F class=md-nav__link> <span class=md-ellipsis> F </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators._collect_dynamic_skill_dependencies class=md-nav__link> <span class=md-ellipsis> _collect_dynamic_skill_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.collect_sandbox_dependencies class=md-nav__link> <span class=md-ellipsis> collect_sandbox_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.requires_sandbox class=md-nav__link> <span class=md-ellipsis> requires_sandbox </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools class=md-nav__link> <span class=md-ellipsis> agent_tools </span> </a> <nav class=md-nav aria-label=agent_tools> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools._build_full_instruction class=md-nav__link> <span class=md-ellipsis> _build_full_instruction </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble class=md-nav__link> <span class=md-ellipsis> agent_ensemble </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble_pairwise class=md-nav__link> <span class=md-ellipsis> agent_ensemble_pairwise </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.complain class=md-nav__link> <span class=md-ellipsis> complain </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.critique class=md-nav__link> <span class=md-ellipsis> critique </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.flag_unjustified_claims class=md-nav__link> <span class=md-ellipsis> flag_unjustified_claims </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_aigise_session class=md-nav__link> <span class=md-ellipsis> get_aigise_session </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_available_agents_for_ensemble class=md-nav__link> <span class=md-ellipsis> get_available_agents_for_ensemble </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_available_models class=md-nav__link> <span class=md-ellipsis> get_available_models </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.note_suspicious_things class=md-nav__link> <span class=md-ellipsis> note_suspicious_things </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.plan class=md-nav__link> <span class=md-ellipsis> plan </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.think class=md-nav__link> <span class=md-ellipsis> think </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent class=md-nav__link> <span class=md-ellipsis> dynamic_subagent </span> </a> <nav class=md-nav aria-label=dynamic_subagent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT class=md-nav__link> <span class=md-ellipsis> _DEFAULT_SEARCH_LIMIT </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.AgentStatus class=md-nav__link> <span class=md-ellipsis> AgentStatus </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_agent class=md-nav__link> <span class=md-ellipsis> _extract_tool_names_from_agent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_metadata class=md-nav__link> <span class=md-ellipsis> _extract_tool_names_from_metadata </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._keyword_score class=md-nav__link> <span class=md-ellipsis> _keyword_score </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._normalize_keywords class=md-nav__link> <span class=md-ellipsis> _normalize_keywords </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.call_subagent_as_tool class=md-nav__link> <span class=md-ellipsis> call_subagent_as_tool </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.complain class=md-nav__link> <span class=md-ellipsis> complain </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.create_subagent class=md-nav__link> <span class=md-ellipsis> create_subagent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.get_aigise_session class=md-nav__link> <span class=md-ellipsis> get_aigise_session </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.get_background_task_output class=md-nav__link> <span class=md-ellipsis> get_background_task_output </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.list_active_agents class=md-nav__link> <span class=md-ellipsis> list_active_agents </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.list_background_tasks class=md-nav__link> <span class=md-ellipsis> list_background_tasks </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.run_terminal_command class=md-nav__link> <span class=md-ellipsis> run_terminal_command </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.search_agent class=md-nav__link> <span class=md-ellipsis> search_agent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.wait_for_background class=md-nav__link> <span class=md-ellipsis> wait_for_background </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cli/ class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=../plugins/ class=md-nav__link> <span class=md-ellipsis> Plugins </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> CLI Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> CLI Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../CLI-Reference/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../cli/opensage/ class=md-nav__link> <span class=md-ellipsis> opensage </span> </a> </li> <li class=md-nav__item> <a href=../../cli/opensage-web/ class=md-nav__link> <span class=md-ellipsis> opensage web </span> </a> </li> <li class=md-nav__item> <a href=../../cli/opensage-dependency-check/ class=md-nav__link> <span class=md-ellipsis> opensage dependency-check </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Community </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Community/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#aigise.toolbox.decorators class=md-nav__link> <span class=md-ellipsis> decorators </span> </a> <nav class=md-nav aria-label=decorators> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.F class=md-nav__link> <span class=md-ellipsis> F </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators._collect_dynamic_skill_dependencies class=md-nav__link> <span class=md-ellipsis> _collect_dynamic_skill_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.collect_sandbox_dependencies class=md-nav__link> <span class=md-ellipsis> collect_sandbox_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.requires_sandbox class=md-nav__link> <span class=md-ellipsis> requires_sandbox </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.decorators.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools class=md-nav__link> <span class=md-ellipsis> agent_tools </span> </a> <nav class=md-nav aria-label=agent_tools> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools._build_full_instruction class=md-nav__link> <span class=md-ellipsis> _build_full_instruction </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble class=md-nav__link> <span class=md-ellipsis> agent_ensemble </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble_pairwise class=md-nav__link> <span class=md-ellipsis> agent_ensemble_pairwise </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.complain class=md-nav__link> <span class=md-ellipsis> complain </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.critique class=md-nav__link> <span class=md-ellipsis> critique </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.flag_unjustified_claims class=md-nav__link> <span class=md-ellipsis> flag_unjustified_claims </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_aigise_session class=md-nav__link> <span class=md-ellipsis> get_aigise_session </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_available_agents_for_ensemble class=md-nav__link> <span class=md-ellipsis> get_available_agents_for_ensemble </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.get_available_models class=md-nav__link> <span class=md-ellipsis> get_available_models </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.note_suspicious_things class=md-nav__link> <span class=md-ellipsis> note_suspicious_things </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.plan class=md-nav__link> <span class=md-ellipsis> plan </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.agent_tools.think class=md-nav__link> <span class=md-ellipsis> think </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent class=md-nav__link> <span class=md-ellipsis> dynamic_subagent </span> </a> <nav class=md-nav aria-label=dynamic_subagent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT class=md-nav__link> <span class=md-ellipsis> _DEFAULT_SEARCH_LIMIT </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.AgentStatus class=md-nav__link> <span class=md-ellipsis> AgentStatus </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_agent class=md-nav__link> <span class=md-ellipsis> _extract_tool_names_from_agent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_metadata class=md-nav__link> <span class=md-ellipsis> _extract_tool_names_from_metadata </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._keyword_score class=md-nav__link> <span class=md-ellipsis> _keyword_score </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent._normalize_keywords class=md-nav__link> <span class=md-ellipsis> _normalize_keywords </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.call_subagent_as_tool class=md-nav__link> <span class=md-ellipsis> call_subagent_as_tool </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.complain class=md-nav__link> <span class=md-ellipsis> complain </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.create_subagent class=md-nav__link> <span class=md-ellipsis> create_subagent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.get_aigise_session class=md-nav__link> <span class=md-ellipsis> get_aigise_session </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.get_background_task_output class=md-nav__link> <span class=md-ellipsis> get_background_task_output </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.list_active_agents class=md-nav__link> <span class=md-ellipsis> list_active_agents </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.list_background_tasks class=md-nav__link> <span class=md-ellipsis> list_background_tasks </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.run_terminal_command class=md-nav__link> <span class=md-ellipsis> run_terminal_command </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.safe_tool_execution class=md-nav__link> <span class=md-ellipsis> safe_tool_execution </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.search_agent class=md-nav__link> <span class=md-ellipsis> search_agent </span> </a> </li> <li class=md-nav__item> <a href=#aigise.toolbox.general.dynamic_subagent.wait_for_background class=md-nav__link> <span class=md-ellipsis> wait_for_background </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=toolbox>Toolbox<a class=headerlink href=#toolbox title="Permanent link">&para;</a></h1> <div class="doc doc-object doc-module"> <h2 id=aigise.toolbox.decorators class="doc doc-heading"> <code>aigise.toolbox.decorators</code> <a href=#aigise.toolbox.decorators class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Decorators for declaring sandbox dependencies in AIgiSE tools and toolsets.</p> <p>This module provides a unified decorator system for declaring which sandboxes are required by tools and toolsets. This enables static dependency analysis before actually creating any sandboxes.</p> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=aigise.toolbox.decorators.F class="doc doc-heading"> <code class="highlight language-python"><span class=n>F</span> <span class=o>=</span> <span class=n>TypeVar</span><span class=p>(</span><span class=s1>&#39;F&#39;</span><span class=p>,</span> <span class=n>bound</span><span class=o>=</span><span class=n>Callable</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#aigise.toolbox.decorators.F class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=aigise.toolbox.decorators.logger class="doc doc-heading"> <code class="highlight language-python"><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#aigise.toolbox.decorators.logger class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.decorators._collect_dynamic_skill_dependencies class="doc doc-heading"> <code class="highlight language-python"><span class=n>_collect_dynamic_skill_dependencies</span><span class=p>(</span><span class=n>enabled_skills</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>set</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a href=#aigise.toolbox.decorators._collect_dynamic_skill_dependencies class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Scan all available bash skills for sandbox requirements defined in SKILL.md.</p> <p>This manually scans the search paths (mirroring ToolLoader defaults) and parses the '## Requires Sandbox' section from SKILL.md files.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>enabled_skills</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=typing.Union>Union</span>[<span title=typing.List>List</span>[<span title=str>str</span>], <span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>Optional filter to only collect dependencies from enabled tools. - None: Collect from no tools (returns empty set) - "all": Collect from all tools - List[str]: Only collect from specified tools</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.decorators.collect_sandbox_dependencies class="doc doc-heading"> <code class="highlight language-python"><span class=n>collect_sandbox_dependencies</span><span class=p>(</span><span class=n>agent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>set</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a href=#aigise.toolbox.decorators.collect_sandbox_dependencies class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Collect all sandbox dependencies from an agent and its tools.</p> <p>This function performs static analysis on an agent's tools to determine which sandboxes are required. It checks for <code>__sandbox_requirements__</code> metadata on: - Direct tool functions (decorated with @requires_sandbox) - Toolset instances (including MCP toolsets, returned by get_toolset() functions decorated with @requires_sandbox) - AgentTools (agents wrapped as tools, recursively) - Sub-agents (recursively)</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>An agent instance (LlmAgent, SequentialAgent, AigiseAgent, etc.)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=set>set</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>A set of sandbox type names required by the agent and all its sub-agents and mcp toolsets.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.decorators.requires_sandbox class="doc doc-heading"> <code class="highlight language-python"><span class=n>requires_sandbox</span><span class=p>(</span><span class=o>*</span><span class=n>sandbox_types</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>F</span><span class=p>],</span> <span class=n>F</span><span class=p>]</span></code> <a href=#aigise.toolbox.decorators.requires_sandbox class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Universal decorator for declaring sandbox dependencies.</p> <p>This decorator works for both: - Tool functions: Only marks the function with metadata - Toolset factories: Marks function AND injects metadata into returned instance</p> <p>The decorator is purely declarative - it does not create or fetch sandboxes. It only adds <code>__sandbox_requirements__</code> metadata for static analysis via <code>collect_sandbox_dependencies()</code>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>*sandbox_types</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Variable number of sandbox type names that the tool or toolset depends on (e.g., "main", "gdb_mcp", "neo4j").</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Callable>Callable</span>[[<a class="autorefs autorefs-internal" title="F = TypeVar('F', bound=Callable)

  
      module-attribute
   (aigise.toolbox.decorators.F)" href=#aigise.toolbox.decorators.F>F</a>], <a class="autorefs autorefs-internal" title="F = TypeVar('F', bound=Callable)

  
      module-attribute
   (aigise.toolbox.decorators.F)" href=#aigise.toolbox.decorators.F>F</a>]</code> </td> <td> <div class=doc-md-description> <p>A decorator function that adds <strong>sandbox_requirements</strong> metadata.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.decorators.safe_tool_execution class="doc doc-heading"> <code class="highlight language-python"><span class=n>safe_tool_execution</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>F</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>F</span></code> <a href=#aigise.toolbox.decorators.safe_tool_execution class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Decorator to wrap tool functions with error handling.</p> <p>Catches all exceptions and returns a formatted error message with backtrace. Works for both sync and async functions.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="F = TypeVar('F', bound=Callable)

  
      module-attribute
   (aigise.toolbox.decorators.F)" href=#aigise.toolbox.decorators.F>F</a></code> </td> <td> <div class=doc-md-description> <p>dict with "error" key containing failure message and backtrace</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=aigise.toolbox.general.agent_tools class="doc doc-heading"> <code>aigise.toolbox.general.agent_tools</code> <a href=#aigise.toolbox.general.agent_tools class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=aigise.toolbox.general.agent_tools.logger class="doc doc-heading"> <code class="highlight language-python"><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.logger class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools._build_full_instruction class="doc doc-heading"> <code class="highlight language-python"><span class=n>_build_full_instruction</span><span class=p>(</span><span class=n>instruction</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>include_history</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span></code> <a href=#aigise.toolbox.general.agent_tools._build_full_instruction class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Build complete instruction with optional conversation history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>instruction</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The base instruction</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>include_history</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether to include conversation history</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>tool_context</code> </td> <td> <code><span title=google.adk.tools.tool_context.ToolContext>ToolContext</span></code> </td> <td> <div class=doc-md-description> <p>Tool context containing session events</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Complete instruction string with optional history context</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.agent_ensemble class="doc doc-heading"> <code class="highlight language-python"><span class=n>agent_ensemble</span><span class=p>(</span><span class=n>instruction</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>agent_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>model_name_to_count</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>],</span> <span class=n>history_passed_in</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Agent ensemble is a tool that allows launching multiple agents, each with a different model, to perform a task. The agent will then aggregate the results from the agents and return the final result.</p> <p>Before calling this tool, you must call get_available_agents_for_ensemble and get_available_models FIRST to get the allowed agents and models, as the allowed agents and models may change over time.</p> <details class=important open> <summary>IMPORTANT</summary> <ul> <li>"inherit" is a special model name meaning: reuse the current/root agent's model object from context.</li> <li>If get_available_models returns only ["inherit"], then you MUST pass model_name_to_count={"inherit": N}. This will run N ensemble agents using the same model object as the current/root agent.</li> </ul> <p>Args: instruction: The specific instruction/task you want all agents to execute agent_name: The name of the agent to launch (must be in safe agents list) model_name_to_count: A dictionary of model names and the number of agents to launch with that model, where the key is the model name and the value is the number of agents to launch with that model, the total number of agents to launch is the sum of the values in the dictionary, it should be at least 2. history_passed_in: Whether to pass conversation history to agents for additional context tool_context: The tool context</p> <p>Returns: The aggregated final result from all agents</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.agent_ensemble_pairwise class="doc doc-heading"> <code class="highlight language-python"><span class=n>agent_ensemble_pairwise</span><span class=p>(</span><span class=n>instructions</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>agent_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>model_names</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>history_passed_in</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.agent_ensemble_pairwise class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Launch multiple agents in parallel, each with its own instruction and model. call this tool when you have multiple tasks to complete, for example, you have different approaches to solve the task, you can use this tool to try different approaches in parallel. - instructions: list of per-agent instructions - model_names: list of per-agent model names (same length as instructions) - agent_name: target agent to launch (must be in safe agents list) - history_passed_in: whether to include folded history in each instruction</p> <p><span class=doc-section-title>Examples:</span></p> <p>1) Two tasks on the same model instructions = [ "Summarize repo READMEs", "Extract CVEs from logs", ] model_names = [ "openai/gpt-5", "openai/gpt-5", ]</p> <p>2) Three tasks with mixed models instructions = [ "Generate remediation plan", "List risky endpoints from code", "Draft incident report", ] model_names = [ "anthropic/claude-sonnet-4-20250514", "openai/gpt-5", "openai/gpt-5", ]</p> <p>real instructions should be more specific and detailed, not just a general task description.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.complain class="doc doc-heading"> <code class="highlight language-python"><span class=n>complain</span><span class=p>(</span><span class=n>complaint</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.complain class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>If you have a complaint, you should call this tool to complain about it. E.g., if a tool is hard to use, if a file or folder is supposed to be there but is not, etc. We will take your complaint into consideration and improve the tooling. If there is a description that contradicts with the reality, you should call this tool to complain about it. Note that the task description is always correct, and there is definitely a way to complete it,you should not complain about it.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>"Complained, we will take your complaint into consideration and improve the tooling."</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.critique class="doc doc-heading"> <code class="highlight language-python"><span class=n>critique</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.critique class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Call this to query another model as a consultant to help you solve the task, you should call this frequently to get an idea of how to solve the task.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>dict with 'idea' containing the other model's suggestion</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.flag_unjustified_claims class="doc doc-heading"> <code class="highlight language-python"><span class=n>flag_unjustified_claims</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.flag_unjustified_claims class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Flag the unjustified claims in the history, this is done by another model</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A natural language analysis of unjustified claims found in the conversation</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.get_aigise_session class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_aigise_session</span><span class=p>(</span><span class=n>aigise_session_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AigiseSession</span></code> <a href=#aigise.toolbox.general.agent_tools.get_aigise_session class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get or create an AigiseSession for the given session ID.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.get_available_agents_for_ensemble class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_available_agents_for_ensemble</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.get_available_agents_for_ensemble class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the available agents for the ensemble. Uses AgentEnsembleManager to discover static subagents, agent tools, and dynamic agents. Only agents whose tools are all covered by THREAD_SAFE_TOOLS are considered safe for ensemble.</p> <p>Note that maybe there are no agents that are suitable for the current task, you should create a dynamic subagent that is suitable for the current task and then call it by agent_ensemble tool. Pick up thread-safe tools for dynamic agents if you want to create one for the current task.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Dictionary with safe_agents list, summary, and agent counts</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.get_available_models class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_available_models</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.get_available_models class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the available models configured for ensemble use.</p> <details class=notes open> <summary>Notes</summary> <ul> <li>The special model name "inherit" means: reuse the current agent's model object from context (i.e., the root/current agent model).</li> </ul> </details> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Dictionary with available_models list and count</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.note_suspicious_things class="doc doc-heading"> <code class="highlight language-python"><span class=n>note_suspicious_things</span><span class=p>(</span><span class=n>suspicious_things</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.note_suspicious_things class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>If you have multiple intereting points or suspicious things to explore, you can call this tool to note them down so that you don't forget them.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>"Noted"</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.plan class="doc doc-heading"> <code class="highlight language-python"><span class=n>plan</span><span class=p>(</span><span class=n>plan</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.plan class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>If you have want to do some planning, do not output the plan in plain text, call this tool to do the planning.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>"Planning done"</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.safe_tool_execution class="doc doc-heading"> <code class="highlight language-python"><span class=n>safe_tool_execution</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>F</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>F</span></code> <a href=#aigise.toolbox.general.agent_tools.safe_tool_execution class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Decorator to wrap tool functions with error handling.</p> <p>Catches all exceptions and returns a formatted error message with backtrace. Works for both sync and async functions.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="F = TypeVar('F', bound=Callable)

  
      module-attribute
   (aigise.toolbox.decorators.F)" href=#aigise.toolbox.decorators.F>F</a></code> </td> <td> <div class=doc-md-description> <p>dict with "error" key containing failure message and backtrace</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.agent_tools.think class="doc doc-heading"> <code class="highlight language-python"><span class=n>think</span><span class=p>(</span><span class=n>thinking</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.agent_tools.think class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>If you have want to do some reasoning, do not output the reasoning in plain text, call this tool to do the reasoning.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>"Thinking done"</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=aigise.toolbox.general.dynamic_subagent class="doc doc-heading"> <code>aigise.toolbox.general.dynamic_subagent</code> <a href=#aigise.toolbox.general.dynamic_subagent class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT class="doc doc-heading"> <code class="highlight language-python"><span class=n>_DEFAULT_SEARCH_LIMIT</span> <span class=o>=</span> <span class=mi>10</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-class"> <h3 id=aigise.toolbox.general.dynamic_subagent.AgentStatus class="doc doc-heading"> <code>AgentStatus</code> <a href=#aigise.toolbox.general.dynamic_subagent.AgentStatus class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=enum.Enum>Enum</span></code></p> <p>Agent lifecycle status.</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_agent class="doc doc-heading"> <code class="highlight language-python"><span class=n>_extract_tool_names_from_agent</span><span class=p>(</span><span class=n>agent_instance</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_agent class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Extract tool names from agent instance</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_metadata class="doc doc-heading"> <code class="highlight language-python"><span class=n>_extract_tool_names_from_metadata</span><span class=p>(</span><span class=n>metadata</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent._extract_tool_names_from_metadata class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Extract tool names from agent metadata config</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent._keyword_score class="doc doc-heading"> <code class="highlight language-python"><span class=n>_keyword_score</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>keywords</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>description</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>match_all</span><span class=p>:</span> <span class=nb>bool</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=nb>int</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent._keyword_score class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Return (matched, score, matched_keywords, matched_fields).</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent._normalize_keywords class="doc doc-heading"> <code class="highlight language-python"><span class=n>_normalize_keywords</span><span class=p>(</span><span class=n>keywords</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent._normalize_keywords class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Normalize keyword input into a list of non-empty strings.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.call_subagent_as_tool class="doc doc-heading"> <code class="highlight language-python"><span class=n>call_subagent_as_tool</span><span class=p>(</span><span class=n>agent_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>task_message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent.call_subagent_as_tool class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Call a sub-agent as a tool - Agent as a Tool pattern. You should first list the existing sub-agents before trying to call one.</p> <p>This supports both dynamic agents and the current agent's subagents (only LlmAgent types).</p> <p>This treats the sub-agent as a specialized tool that can process natural language requests and return structured results.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the sub-agent to call</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>task_message</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Natural language task description</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Result from the sub-agent execution</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.complain class="doc doc-heading"> <code class="highlight language-python"><span class=n>complain</span><span class=p>(</span><span class=n>complaint</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent.complain class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>If you have a complaint, you should call this tool to complain about it. E.g., if a tool is hard to use, if a file or folder is supposed to be there but is not, etc. We will take your complaint into consideration and improve the tooling. If there is a description that contradicts with the reality, you should call this tool to complain about it. Note that the task description is always correct, and there is definitely a way to complete it,you should not complain about it.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>"Complained, we will take your complaint into consideration and improve the tooling."</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.create_subagent class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_subagent</span><span class=p>(</span><span class=n>agent_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>instruction</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>model_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tools_list</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>,</span> <span class=n>enabled_skills</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent.create_subagent class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Dynamically create a sub-agent with specified tools and instructions. You should first list the existing sub-agents before creating a new one.</p> <p>IMPORTANT: - A subagent's capabilities come from two sources: 1) <strong>Python tools/toolsets</strong>: determined by <code>tools_list</code> (plus a small set of default baseline tools injected automatically, see below). 2) <strong>Bash tools</strong>: determined by <code>enabled_skills</code> (which controls which <code>bash_tools/*</code> skills are loaded for the subagent). - <code>enabled_skills</code> can be empty. If it is empty/None, the subagent may not have any bash tools available. Choose it carefully based on what the subagent needs to do. - <code>tools_list</code> must NOT be empty. If it is empty, this tool will return an error and no subagent will be created. - Default baseline tools (always injected): <code>run_terminal_command</code>, <code>list_background_tasks</code>, <code>get_background_task_output</code>, <code>wait_for_background</code>, <code>complain</code>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Custom name for the agent</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>instruction</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Custom instruction for the agent, this will be the system prompt for the agent, it should be a comprehensive instruction for the agent to follow and not task-specific.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>model_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Model to use for the agent (e.g., "anthropic/claude-sonnet-4", "openai/gpt-5", or "inherit" to reuse the current agent's model)</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>tools_list</code> </td> <td> <code><span title=typing.List>List</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>List of Python tool names to assign to the agent. This may also include <strong>toolset names</strong> (e.g. "gdb_mcp", "pdb_mcp") if the caller agent exposes a toolset instance with a stable <code>name</code>. Passing a toolset name injects the entire toolset into the subagent.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>enabled_skills</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=typing.List>List</span>[<span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>Controls which bash tools are loaded. - None: Load NO bash tools. - ["all"]: Load ONLY top-level skills: <code>&lt;root&gt;/*/SKILL.md</code>. - List[str]: Load skills by relative path/prefix under the skill root (e.g. ["fuzz"] or ["fuzz/simplified-python-fuzzer"]).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>description</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional description for the agent</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary with creation result and agent details</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.get_aigise_session class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_aigise_session</span><span class=p>(</span><span class=n>aigise_session_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AigiseSession</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.get_aigise_session class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get or create an AigiseSession for the given session ID.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.get_background_task_output class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_background_task_output</span><span class=p>(</span><span class=n>task_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.get_background_task_output class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Retrieve the output and exit code from a specific background task.</p> <p>Use this tool after launching a command with <code>background=True</code> or a command has been sent to the background. If the command already finished the helper returns the full logs and cleans up the underlying temp files; otherwise, it streams the current log buffer without interrupting the running process.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>task_id</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The ID of the task (from list_background_tasks)</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>tool_context</code> </td> <td> <code><span title=google.adk.tools.tool_context.ToolContext>ToolContext</span></code> </td> <td> <div class=doc-md-description> <p>Tool context from the agent</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary containing: - task_id: The task ID - status: Current status of the task - output: The output from the task - exit_code: The exit code (0 for success, non-zero for failure) - error: Error message if task not found - cleaned_up: Boolean indicating if cleanup was performed</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.list_active_agents class="doc doc-heading"> <code class="highlight language-python"><span class=n>list_active_agents</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent.list_active_agents class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>List all active sub-agents, loading persistent agents on demand.</p> <p>This function: 1. Loads persisted agents on demand using caller's tools 2. Returns information about all dynamically created agents (both in-memory and restored)</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.list_background_tasks class="doc doc-heading"> <code class="highlight language-python"><span class=n>list_background_tasks</span><span class=p>(</span><span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.list_background_tasks class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>List all background tasks and their current status.</p> <p>This tool allows the agent to check the status of background tasks before making the next decision. It's particularly useful for: - Checking if fuzzing campaigns have completed - Monitoring long-running compilation or build processes - Verifying any task started with background=True parameter</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>tool_context</code> </td> <td> <code><span title=google.adk.tools.tool_context.ToolContext>ToolContext</span></code> </td> <td> <div class=doc-md-description> <p>Tool context from the agent</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary containing: - tasks: List of task information dictionaries, each with: - id: Task ID - pid: Process ID - command: The command that was run - status: Current status (running/completed/failed/completed/unknown) - sandbox: The sandbox where the task is running - summary: Human-readable summary of task counts by status</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.run_terminal_command class="doc doc-heading"> <code class="highlight language-python"><span class=n>run_terminal_command</span><span class=p>(</span><span class=n>command</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>background</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>60</span><span class=p>,</span> <span class=n>execution_timeout</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>sandbox_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;main&#39;</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.run_terminal_command class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Execute arbitrary bash inside the specified sandbox.</p> <p>This behaves like a one-off terminal session: any bash syntax, pipes, or scripts listed via <code>list_available_scripts</code> can be invoked.</p> <p>Command syntax and escaping rules (what the model should assume): - <strong>Write <code>command</code> exactly as you would type it in bash.</strong> Pipes (<code>|</code>), redirection (<code>&gt;</code>, <code>2&gt;&amp;1</code>), chaining (<code>&amp;&amp;</code>, <code>;</code>), subshells (<code>$(...)</code>), and quoting all work normally. - <strong>Do NOT wrap your command in <code>bash -c</code> or <code>bash -lc</code>.</strong> The backend already executes your command via <code>bash</code> (and sources <code>/shared/bashrc</code> if present). Wrapping again usually adds unnecessary quoting/escaping pitfalls. - <strong>No extra escaping is required by the backend.</strong> The backend does NOT wrap your string into a fragile <code>bash -c '...'</code> one-liner; instead it writes your command verbatim into a temporary script and executes it with <code>bash</code>. This is newline-safe and preserves quotes as-is. - The command runs as a <strong>non-interactive</strong> process (no TTY, no persistent shell session). If you see output like <code>mesg: ttyname failed: Inappropriate ioctl for device</code>, it's a benign warning from shell init logic; the command can still succeed. - Stdout/stderr are captured and returned (and for <code>background=True</code>, you can retrieve them later via <code>get_background_task_output</code>).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>command</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full command line to execute (e.g., "python3 -c 'print(123)' | cat").</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>background</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether to run the command in the background (default: False)</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>timeout</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Timeout in seconds for foreground commands, after which they will be moved to background (default: 60)</p> </div> </td> <td> <code>60</code> </td> </tr> <tr class=doc-section-item> <td> <code>execution_timeout</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=int>int</span>]</code> </td> <td> <div class=doc-md-description> <p>Timeout in seconds for the command itself, after which it will be terminated (default: None, meaning no timeout)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>sandbox_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the sandbox to run the command in (default: "main").</p> </div> </td> <td> <code>&#39;main&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>tool_context</code> </td> <td> <code><span title=google.adk.tools.tool_context.ToolContext>ToolContext</span></code> </td> <td> <div class=doc-md-description> <p>The tool context from the agent execution</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict describing execution status. When <code>background</code> is False the</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>response contains <code>output</code> and <code>exit_code</code>. Otherwise, it returns the</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p><code>task_id</code> needed to resume/inspect the background run.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.safe_tool_execution class="doc doc-heading"> <code class="highlight language-python"><span class=n>safe_tool_execution</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>F</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>F</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.safe_tool_execution class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Decorator to wrap tool functions with error handling.</p> <p>Catches all exceptions and returns a formatted error message with backtrace. Works for both sync and async functions.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="F = TypeVar('F', bound=Callable)

  
      module-attribute
   (aigise.toolbox.decorators.F)" href=#aigise.toolbox.decorators.F>F</a></code> </td> <td> <div class=doc-md-description> <p>dict with "error" key containing failure message and backtrace</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.search_agent class="doc doc-heading"> <code class="highlight language-python"><span class=n>search_agent</span><span class=p>(</span><span class=n>keywords</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=nb>str</span><span class=p>],</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>,</span> <span class=n>limit</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=n>_DEFAULT_SEARCH_LIMIT</span><span class=p>,</span> <span class=n>match_all</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#aigise.toolbox.general.dynamic_subagent.search_agent class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Search sub-agent pool by keywords in name/description and return metadata.</p> <p>This searches across: - Dynamic subagents in the current AIgiSE session (including persisted metadata) - ADK subagents attached to the current caller agent via <code>sub_agents</code></p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>keywords</code> </td> <td> <code><span title=typing.Union>Union</span>[<span title=typing.List>List</span>[<span title=str>str</span>], <span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Search keywords. Accepts a whitespace-separated string or a list of strings.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>limit</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Max number of results to return (sorted by relevance).</p> </div> </td> <td> <code><a class="autorefs autorefs-internal" title="_DEFAULT_SEARCH_LIMIT = 10

  
      module-attribute
   (aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT)" href=#aigise.toolbox.general.dynamic_subagent._DEFAULT_SEARCH_LIMIT>_DEFAULT_SEARCH_LIMIT</a></code> </td> </tr> <tr class=doc-section-item> <td> <code>match_all</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If True, require <em>all</em> keywords to match in (name or description).</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>dict with <code>matches</code> listing matching agents and their metadata.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=aigise.toolbox.general.dynamic_subagent.wait_for_background class="doc doc-heading"> <code class="highlight language-python"><span class=n>wait_for_background</span><span class=p>(</span><span class=n>task_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>300</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>tool_context</span><span class=p>:</span> <span class=n>ToolContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span></code> <a href=#aigise.toolbox.general.dynamic_subagent.wait_for_background class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Block until a background task finishes or the wait times out.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>task_id</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Identifier returned by <code>run_bash_tool_script</code> or <code>run_terminal_command</code> when the task was launched.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>timeout</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Seconds to wait before returning with a timeout status.</p> </div> </td> <td> <code>300</code> </td> </tr> <tr class=doc-section-item> <td> <code>tool_context</code> </td> <td> <code><span title=google.adk.tools.tool_context.ToolContext>ToolContext</span></code> </td> <td> <div class=doc-md-description> <p>Execution context used to locate session state.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict with keys such as <code>success</code>, <code>output</code>, <code>exit_code</code>, and</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p><code>status</code>. If the wait hits the timeout, <code>timeout=True</code> is included.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/OpenSage-ADK/OpenSage target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>